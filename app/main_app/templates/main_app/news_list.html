{% extends "base.html" %}

{% load static %}

{% block content %}
    <div class="container">

        {% if perms.main_app.add_news %}
        <div class="col-lg-6 col-12 mb-5 mb-lg-0">
            <a href="{% url 'main:news_create' %}" class="custom-btn custom-border-btn btn">Create news</a>
        </div>
        {% endif %}
        
        <div class="row">

            <div class="col-lg-6 col-12 text-center mx-auto mb-4">
                <h2>News</h2>
            </div>

            <div class="col-lg-12 col-12">
                {% if object_list %}
                {% for item in object_list %}
                <div class="job-thumb d-flex">
                    <div class="job-body d-flex flex-wrap flex-auto align-items-center ms-4">
                        <div class="mb-3">
                            <h4 class="job-title mb-lg-0">
                                <a href="{% url 'main:news_detail' pk=item.pk %}" class="job-title-link">{{ item.title }}</a>
                            </h4>

                            <div class="d-flex flex-wrap align-items-center">
                                <p class="job-location mb-0">
                                    {{ item.preamble }}
                                </p>

                                <div class="d-flex">
                                    {% if perms.main_app.change_news %}
                                    <p class="mb-0">
                                        <a href="{% url 'main:news_update' pk=item.pk %}" class="badge badge-level">Edit</a>
                                    </p>

                                    <p class="mb-0">
                                        <a href="{% url 'main:news_delete' pk=item.pk %}" class="badge">Delete</a>
                                    </p>
                                    {% endif %}
                                </div>

                            </div>
                        </div>

                    <div class="job-section-btn-wrap">
                        <a href="{% url 'main:news_detail' pk=item.pk %}" class="custom-btn btn">More</a>
                    </div>
                </div>
            </div>
            {% endfor %}
            {% else %}
            <p>No news yet.</p>
            {% endif %}
        </div>

{% comment %}  
        Paginator
        <div class="row justify-content-center align-items-center mt-3 mb-n3">
            <nav aria-label="Page navigation example">
                <ul class="pagination justify-content-center mt-5">
                    {% if object_list.has_previous %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ object_list.previous_page_number }}">previous</a>
                        </li>
                    {% else %}
                        <li class="page-item disabled">
                            <a class="page-link" href="#">previous</a>
                        </li>
                    {% endif %}
                        <li class="page-item">
                            <a class="page-link" href="#">{{ object_list.number }}</a>
                        </li>
                    {% if item.has_next %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ object_list.next_page_number }}">next</a>
                        </li>
                    {% else %}
                        <li class="page-item disabled">
                            <a class="page-link" href="#">next</a>
                        </li>
                    {% endif %}
                </ul>
            </nav>
        </div>
 {% endcomment %}
    </div>
{% endblock content %}